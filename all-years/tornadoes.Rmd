---
title: "Tornado Analysis"
output: html_document
---

```{r libraries}
library(tidyverse)
library(ggridges)
```

```{r filter-tornadoes, message = FALSE}

tornadoes <- read_csv("../data/ignore/all-storms.csv")

tornadoes <- tornadoes |>
  filter(EVENT_TYPE == "Tornado")|>
  select(EVENT_ID, STATE, STATE_FIPS, YEAR, INJURIES_DIRECT, INJURIES_INDIRECT, 
         DEATHS_DIRECT, DEATHS_INDIRECT, DAMAGE_PROPERTY, DAMAGE_CROPS, TOR_F_SCALE, BEGIN_LAT, BEGIN_LON)

```

```{r tornadoes-per-year_cleaning}
tornadoes_per_year <- tornadoes|>
  count(YEAR, name = "n_events")
```

```{r tornadoes_per_year}
ggplot(tornadoes_per_year, aes(x = YEAR, y = n_events)) +
  geom_smooth(method = "lm")+
  geom_line(linewidth = .8) +
  geom_point(size = 1.5) +
  labs(
    title = "Number of tornadoes in the US per year (1950-2024)",
    subtitle = "Filtered to major natural disasters",
    x = "Year",
    y = "Number of Events"
  ) +
  theme_minimal()+
  scale_x_continuous(breaks = c(1950,1960,1970,1980,1990,2000,2010,2020))

```





